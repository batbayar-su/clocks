angular.module("clocks").factory("dbSrvc",function(e,r){return{loadProjects:function(){var o=r.defer();return e({url:"server/index.php/projects/load",method:"GET"}).success(function(e){o.resolve(e)}).error(function(e){console.log(e),o.reject()}),o.promise},insertProject:function(o){var n=r.defer();return e({url:"server/index.php/projects/insert",method:"POST",data:o}).success(function(e){n.resolve(e)}).error(function(e){console.log(e),n.reject(e)}),n.promise},getProject:function(o){var n=r.defer();return e({url:"server/index.php/projects/retrieve/"+o,method:"GET"}).success(function(e){console.log(e),n.resolve(e)}).error(function(e){console.log(e),n.reject(e)}),n.promise},convertToSeconds:function(e,r,o){return console.log(e+", "+r+", "+o),3600*e+60*r+o},revertFromSeconds:function(e){var r=Math.floor(e/3600),o=Math.floor((e-3600*r)/60),n=e-3600*r-60*o;return{hours:r,minutes:o,seconds:n}},processInputs:function(e,r,o,n,t){var c=this.convertToSeconds(r,o,0),s=this.convertToSeconds(n,t,0);return c=0==c||isNaN(c)?null:c,s=isNaN(s)?0:s,e=0==e?null:e,{hourly_rate:e,time_budgeted:c,time_spent:s}}}});